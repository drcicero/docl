<!doctype html><html><head>
  <meta charset=utf-8>
  <title> Simple shell parsing - Documentation</title>
  <link href="style.css" rel="stylesheet" type="text/css">

</head><body>
  <div id=content>
<h1> Simple shell parsing</h1><p> A <code>option-defaults</code> table is a table of shell options where "-" is substituted
 for "_" as keys, and any other value as a default as values where opt.empty
 means no default.</p><p> Example:
<pre class=run><code style=white-space:pre class=language-lua>opt = require "parseopt"
defaults = {
  _v = opt.empty,
  _h = opt.empty,
  _q = opt.empty,
  __out = "a.out",
  __temp_dir = "tmp",
}</code></pre><pre class=success><code style=white-space:pre class=language-lua>nil</code></pre><p><dl><dt id=><a href=#> M.empty</a></dt>
<dd><p> the value meaning <code>no<wbr>&nbsp;default</code></p></dd><dt id=M.parse><a href=#M.parse>M.parse (args, defaults)</a></dt>
<dd><p> Parse a list of options into a lua table.</p><p> returns <code>nil</code>, as soon as any option that is not in the <code>options<wbr>&nbsp;table</code> is
 encounted.</p><p> else, returns a table whose dict part contains:</p><p> * an entry <code>key<span class=operator>=</span>value</code> for every <code>--key</code> and a subsequent value, and</p><p> * an entry <code>option<span class=operator>=</span>true</code> for every <code>-option</code>.</p><p> the other elements are stored in the array part of the table.
<pre class=run><code style=white-space:pre class=language-lua>-- when parsing a command args use the 'args' lua special variable
--   'opt.parse(args, defaults)'
-- but this is not the command line, so we use our own args-list
return opt.parse({"hello.c", "-q", "you.c",
    "fish.c", "--out", "hello", "--temp-dir", "/home/me/tmp"}, defaults)</code></pre><pre class=success><code style=white-space:pre class=language-lua>{"fish.c", "hello.c", "you.c", __out="hello", __temp_dir="/home/me/tmp", _q=true}</code></pre></p></dd><dt id=M.apply_defaults><a href=#M.apply_defaults>M.apply_defaults (options, defaults, allowed_args, warn)</a></dt>
<dd><p> apply the defaults of the <code>options<wbr>&nbsp;table</code> (see above) into the options
 table.</p><p> if <code>warn</code> is <code>true</code>, prints warnings when defaults are used.</p><p> returns nothing.</p><p> errors on unknown arguments.</p></dd></dl>
  </div><div id=navigation>
<a href=index.html>> Index</a><h2> Simple shell parsing</h2><a class=func-link href=#> M.empty</a>
<a class=func-link href=#M.parse>M.parse (args, defaults)</a>
<a class=func-link href=#M.apply_defaults>M.apply_defaults (options, defaults, allowed_args, warn)</a>
  </div><footer style=margin-right>
    generated with docl
  </footer>

<script async src=highlight.js></script></body></html>