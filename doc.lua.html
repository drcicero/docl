<!doctype html><html><head>
  <meta charset=utf-8>
  <title> helper functions - Documentation</title>
  <link href="style.css" rel="stylesheet" type="text/css">

</head><body>
  <div id=content>
<h1> helper functions</h1><p> Functions for parsing, running code samples and html generation.
<pre class=run><code style=white-space:pre class=language-lua>  doc = require "doc"</code></pre><pre class=success><code style=white-space:pre class=language-lua>nil</code></pre>
 See #doc.parse for how it expects your files to be written.<p><dl><dt id=doc.codeblock2html><a href=#doc.codeblock2html>doc.codeblock2html (codeblock, env, highlight)</a></dt>
<dd><p> parse a codeblock and return pretty html.</p></dd><dt id=doc.parse_file><a href=#doc.parse_file>doc.parse_file (file, links, options)</a></dt>
<dd><p> Parse documention from file.
 returns a list of sections, where each section is a list of defintions plus a description.</p><p> A Doccomment begins with <code>---</code> and continues with <code>--</code>, newlines are ignored,
 empty lines seperate paragraphs. For example:
<pre><code style=white-space:pre class=language-lua>--- Add 2 numbers.
-- This function the two numbers 'x' and 'y'.
--
-- x: first summand
--
-- y: second summand
function add(x, y)
    return x + y
end</code></pre></p><p> Besides commenting functions, you can also give a file an introduction
 by starting a doccomment without a function in the next line.
<pre><code style=white-space:pre class=language-lua>--- Arithmetic Operations
-- This module contains a lot of useful arithemtic operations like
-- + - * / % as well as pow, log, sin, cos, tan, acos, asin, atan, atan2.
--
-- This module depends on the math module.
require "math"</p><p></p><p>-- ...
-- rest of the file</code></pre></p></dd><dt id=doc.gen_file><a href=#doc.gen_file>doc.gen_file (sections, options)</a></dt>
<dd><p> Generate documentation and run unit tests for list of sections.</p></dd><dt id=doc.content_template><a href=#doc.content_template>doc.content_template (section)</a></dt>
<dd><p></p></dd><dt id=doc.nav_template><a href=#doc.nav_template>doc.nav_template (section)</a></dt>
<dd><p></p></dd><dt id=doc.parse_func_def><a href=#doc.parse_func_def>doc.parse_func_def (line)</a></dt>
<dd><p> parse a line containing a function definition into a (name, list-of-args) pair</p></dd><dt id=doc.startswith><a href=#doc.startswith>doc.startswith (str, beginning)</a></dt>
<dd><p> does the string <code>str</code> start with the string <code>beginning</code>?</p></dd></dl><h2> HTML-generators</h2><p><p><dl><dt id=doc.source_template><a href=#doc.source_template>doc.source_template (file)</a></dt>
<dd><p> Generate Sourcecode Drawer</p></dd><dt id=doc.def_template><a href=#doc.def_template>doc.def_template (dt, dd)</a></dt>
<dd><p> Make a HTML-dl-Element (definition list) out of a string <code>dt</code> and a
 string <code>dd</code>. <code>dt</code> must contain a space.
<pre class=run><code style=white-space:pre class=language-lua>return doc.def_template("Fish (Animal)", "Fish (from latin fishius) is a animal commonly found in water.")</code></pre><pre class=success><code style=white-space:pre class=language-lua>"&lt;dt id=Fish>&lt;a href=#Fish>Fish (Animal)&lt;/a>&lt;/dt>\
&lt;dd>Fish (from latin fishius) is a animal commonly found in water.&lt;/dd>"</code></pre></p></dd><dt id=doc.file_template><a href=#doc.file_template>doc.file_template (content, navigation, title, options)</a></dt>
<dd><p> An html template.
 pass a string <code>content</code> and a string <code>navigation</code>. returns an html string.</p></dd><dt id=doc.link><a href=#doc.link>doc.link (string, links, file, line)</a></dt>
<dd><p> Link #path.to.something for local references and <a href=path.to.something.lua.html#>path.to.something</a> for references to other files.</p></dd><dt id=doc.wrap><a href=#doc.wrap>doc.wrap (text, element, attr)</a></dt>
<dd><p> Wrap text with HMTL-Element elem.
<pre class=run><code style=white-space:pre class=language-lua>return doc.wrap("in italics", "em")</code></pre><pre class=success><code style=white-space:pre class=language-lua>"&lt;em>in italics&lt;/em>"</code></pre></p></dd><dt id=doc.wraps><a href=#doc.wraps>doc.wraps (list, element)</a></dt>
<dd><p> Wrap a list of elements with HTML-Element elem.
<pre class=run><code style=white-space:pre class=language-lua>return doc.wraps({"hallo", "bello", "cello"}, "p")</code></pre><pre class=success><code style=white-space:pre class=language-lua>"&lt;p>hallo&lt;/p>\
&lt;p>bello&lt;/p>\
&lt;p>cello&lt;/p>"</code></pre></p></dd></dl><h2> Useful helper functions</h2><p><p><dl><dt id=doc.map><a href=#doc.map>doc.map (list, f, ...)</a></dt>
<dd><p> Transform elems of list with f.
<pre class=run><code style=white-space:pre class=language-lua>return doc.map({1,2,3}, function (x) return x+1 end)</code></pre><pre class=success><code style=white-space:pre class=language-lua>{2, 3, 4}</code></pre>
 <br> [A] (A B... -> C) B... -> [C]</p></dd><dt id=doc.kvmap><a href=#doc.kvmap>doc.kvmap (list, f, ...)</a></dt>
<dd><p> Transform values of dict with f.
<pre class=run><code style=white-space:pre class=language-lua>return doc.kvmap({1, 2, a=5,b=7,c=9}, function (k,v)
  return "_" .. tostring(k), v+1 end)</code></pre><pre class=success><code style=white-space:pre class=language-lua>{["_1"]=2, ["_2"]=3, _a=6, _b=8, _c=10}</code></pre>
 <br> {A:B} (A B C... -> D E) C... -> {D:E}</p></dd></dl>
  </div><div id=navigation>
<a href=index.html>> Index</a><h2> helper functions</h2><a class=func-link href=#doc.codeblock2html>doc.codeblock2html (codeblock, env, highlight)</a>
<a class=func-link href=#doc.parse_file>doc.parse_file (file, links, options)</a>
<a class=func-link href=#doc.gen_file>doc.gen_file (sections, options)</a>
<a class=func-link href=#doc.content_template>doc.content_template (section)</a>
<a class=func-link href=#doc.nav_template>doc.nav_template (section)</a>
<a class=func-link href=#doc.parse_func_def>doc.parse_func_def (line)</a>
<a class=func-link href=#doc.startswith>doc.startswith (str, beginning)</a><h3> HTML-generators</h3><a class=func-link href=#doc.source_template>doc.source_template (file)</a>
<a class=func-link href=#doc.def_template>doc.def_template (dt, dd)</a>
<a class=func-link href=#doc.file_template>doc.file_template (content, navigation, title, options)</a>
<a class=func-link href=#doc.link>doc.link (string, links, file, line)</a>
<a class=func-link href=#doc.wrap>doc.wrap (text, element, attr)</a>
<a class=func-link href=#doc.wraps>doc.wraps (list, element)</a><h3> Useful helper functions</h3><a class=func-link href=#doc.map>doc.map (list, f, ...)</a>
<a class=func-link href=#doc.kvmap>doc.kvmap (list, f, ...)</a>
  </div><footer style=margin-right>
    generated with docl
  </footer>

<script async src=highlight.js></script></body></html>