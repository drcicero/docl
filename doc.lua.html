<!doctype html><html><head>
  <meta charset=utf-8>
  <title>Reference</title>
  <link href="style.css" rel="stylesheet" type="text/css">

</head><body>
  <div id=content>
<h1> helper functions</h1><p> Functions for parsing, running code samples and html generation.
<pre class=run><wbr>&nbsp;<wbr>&nbsp;doc<wbr>&nbsp;<span class=operator>=</span><wbr>&nbsp;require<wbr>&nbsp;<span class=string>"doc"</span></pre><pre class=success>nil</pre>
 See #doc.parse for how it expects your files to be written.<p><dl><dt id=doc.codeblock2html><a href=#doc.codeblock2html>doc.codeblock2html (codeblock, env)</a></dt>
<dd><p> parse a codeblock and return pretty html.</p></dd><dt id=doc.parse_file><a href=#doc.parse_file>doc.parse_file (file, links, SHOW_SOURCECODE)</a></dt>
<dd><p> Parse documention from file.
 returns a list of sections, where each section is a list of defintions plus a description.</p><p> A Doccomment begins with <code>---</code> and continues with <code>--</code>, newlines are ignored,
 empty lines seperate paragraphs. For example:
<pre><span class=comment>---<wbr>&nbsp;Add<wbr>&nbsp;2<wbr>&nbsp;numbers.</span><br><span class=comment>--<wbr>&nbsp;This<wbr>&nbsp;function<wbr>&nbsp;the<wbr>&nbsp;two<wbr>&nbsp;numbers<wbr>&nbsp;<span class=string>'x'</span><wbr>&nbsp;and<wbr>&nbsp;<span class=string>'y'</span>.</span><br><span class=comment>--</span><br><span class=comment>--<wbr>&nbsp;x:<wbr>&nbsp;first<wbr>&nbsp;summand</span><br><span class=comment>--</span><br><span class=comment>--<wbr>&nbsp;y:<wbr>&nbsp;second<wbr>&nbsp;summand</span><br><span class=keyword>function</span><wbr>&nbsp;add<span class=operator>(</span>x,<wbr>&nbsp;y<span class=operator>)</span><br><wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<span class=keyword>return</span><wbr>&nbsp;x<wbr>&nbsp;+<wbr>&nbsp;y<br><span class=keyword>end</span></pre></p><p> Besides commenting functions, you can also give a file an introduction
 by starting a doccomment without a function in the next line.
<pre><span class=comment>---<wbr>&nbsp;Arithmetic<wbr>&nbsp;Operations</span><br><span class=comment>--<wbr>&nbsp;This<wbr>&nbsp;module<wbr>&nbsp;contains<wbr>&nbsp;a<wbr>&nbsp;lot<wbr>&nbsp;of<wbr>&nbsp;useful<wbr>&nbsp;arithemtic<wbr>&nbsp;operations<wbr>&nbsp;like</span><br><span class=comment>--<wbr>&nbsp;+<wbr>&nbsp;-<wbr>&nbsp;*<wbr>&nbsp;/<wbr>&nbsp;%<wbr>&nbsp;as<wbr>&nbsp;well<wbr>&nbsp;as<wbr>&nbsp;pow,<wbr>&nbsp;log,<wbr>&nbsp;sin,<wbr>&nbsp;cos,<wbr>&nbsp;tan,<wbr>&nbsp;acos,<wbr>&nbsp;asin,<wbr>&nbsp;atan,<wbr>&nbsp;atan2.</span><br><span class=comment>--</span><br><span class=comment>--<wbr>&nbsp;This<wbr>&nbsp;module<wbr>&nbsp;depends<wbr>&nbsp;on<wbr>&nbsp;the<wbr>&nbsp;math<wbr>&nbsp;module.</span><br>require<wbr>&nbsp;<span class=string>"math"</span><br><br><span class=comment>--<wbr>&nbsp;...</span><br>--<wbr>&nbsp;rest<wbr>&nbsp;of<wbr>&nbsp;the<wbr>&nbsp;file</pre></p></dd><dt id=doc.gen_file><a href=#doc.gen_file>doc.gen_file (sections)</a></dt>
<dd><p> Generate documentation and run unit tests for list of sections.</p></dd><dt id=doc.content_template><a href=#doc.content_template>doc.content_template (section)</a></dt>
<dd><p></p></dd><dt id=doc.nav_template><a href=#doc.nav_template>doc.nav_template (section)</a></dt>
<dd><p></p></dd><dt id=doc.parse_func_def><a href=#doc.parse_func_def>doc.parse_func_def (line)</a></dt>
<dd><p> parse a line containing a function definition into a (name, list-of-args) pair</p></dd><dt id=doc.startswith><a href=#doc.startswith>doc.startswith (str, beginning)</a></dt>
<dd><p> does the string <code>str</code> start with the string <code>beginning</code>?</p></dd></dl><h2> HTML-generators</h2><p><p><dl><dt id=doc.source_template><a href=#doc.source_template>doc.source_template (file)</a></dt>
<dd><p> Generate Sourcecode Drawer</p></dd><dt id=doc.def_template><a href=#doc.def_template>doc.def_template (dt, dd)</a></dt>
<dd><p> Make a HTML-dl-Element (definition list) out of a string <code>dt</code> and a
 string <code>dd</code>. <code>dt</code> must contain a space.
<pre class=run><span class=keyword>return</span><wbr>&nbsp;doc.def_template<span class=operator>(</span><span class=string>"Fish<wbr>&nbsp;(Animal)"</span>,<wbr>&nbsp;<span class=string>"Fish<wbr>&nbsp;(from<wbr>&nbsp;latin<wbr>&nbsp;fishius)<wbr>&nbsp;is<wbr>&nbsp;a<wbr>&nbsp;animal<wbr>&nbsp;commonly<wbr>&nbsp;found<wbr>&nbsp;in<wbr>&nbsp;water."</span><span class=operator>)</span></pre><pre class=success><span class=string>"&lt;dt<wbr>&nbsp;id=Fish>&lt;a<wbr>&nbsp;href=#Fish>Fish<wbr>&nbsp;(Animal)&lt;/a>&lt;/dt>\<br>&lt;dd>Fish<wbr>&nbsp;(from<wbr>&nbsp;latin<wbr>&nbsp;fishius)<wbr>&nbsp;is<wbr>&nbsp;a<wbr>&nbsp;animal<wbr>&nbsp;commonly<wbr>&nbsp;found<wbr>&nbsp;in<wbr>&nbsp;water.&lt;/dd>"</span></pre></p></dd><dt id=doc.file_template><a href=#doc.file_template>doc.file_template (content, navigation)</a></dt>
<dd><p> An html template.
 pass a string <code>content</code> and a string <code>navigation</code>. returns an html string.</p></dd><dt id=doc.link><a href=#doc.link>doc.link (string, links, file, line)</a></dt>
<dd><p> Link #path.to.something for local references and <a href=path.to.something.lua.html#>path.to.something</a> for references to other files.</p></dd><dt id=doc.wrap><a href=#doc.wrap>doc.wrap (text, element, attr)</a></dt>
<dd><p> Wrap text with HMTL-Element elem.
<pre class=run><span class=keyword>return</span><wbr>&nbsp;doc.wrap<span class=operator>(</span><span class=string>"in<wbr>&nbsp;italics"</span>,<wbr>&nbsp;<span class=string>"em"</span><span class=operator>)</span></pre><pre class=success><span class=string>"<span class=escape>\"</span>&lt;em>in<wbr>&nbsp;italics&lt;/em><span class=escape>\"</span>"</span></pre><pre class=fail><span class=string>"&lt;em>in<wbr>&nbsp;italics&lt;/em>"</span></pre></p></dd><dt id=doc.wraps><a href=#doc.wraps>doc.wraps (list, element)</a></dt>
<dd><p> Wrap a list of elements with HTML-Element elem.
<pre class=run><span class=keyword>return</span><wbr>&nbsp;doc.wraps<span class=operator>(</span><span class=operator>{</span><span class=string>"hallo"</span>,<wbr>&nbsp;<span class=string>"bello"</span>,<wbr>&nbsp;<span class=string>"cello"</span><span class=operator>}</span>,<wbr>&nbsp;<span class=string>"p"</span><span class=operator>)</span></pre><pre class=success><span class=string>"<span class=escape>\"</span>&lt;p>hallo&lt;/p>\<br>&lt;p>bello&lt;/p>\<br>&lt;p>cello&lt;/p><span class=escape>\"</span>"</span></pre><pre class=fail><span class=string>"&lt;p>hallo&lt;/p>\<br>&lt;p>bello&lt;/p>\<br>&lt;p>cello&lt;/p>"</span></pre></p></dd></dl><h2> Useful helper functions</h2><p><p><dl><dt id=doc.map><a href=#doc.map>doc.map (list, f, ...)</a></dt>
<dd><p> Transform elems of list with f.
<pre class=run><span class=keyword>return</span><wbr>&nbsp;doc.map<span class=operator>(</span><span class=operator>{</span>1,2,3<span class=operator>}</span>,<wbr>&nbsp;<span class=keyword>function</span><wbr>&nbsp;<span class=operator>(</span>x<span class=operator>)</span><br><wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<span class=keyword>return</span><wbr>&nbsp;x+1<br>end<span class=operator>)</span></pre><pre class=success><span class=operator>{</span>2,<wbr>&nbsp;3,<wbr>&nbsp;4<span class=operator>}</span></pre></p></dd></dl>
  </div><div id=navigation>
<a href=index.html>> Index</a><h2> helper functions</h2><a class=func-link href=#doc.codeblock2html>doc.codeblock2html (codeblock, env)</a>
<a class=func-link href=#doc.parse_file>doc.parse_file (file, links, SHOW_SOURCECODE)</a>
<a class=func-link href=#doc.gen_file>doc.gen_file (sections)</a>
<a class=func-link href=#doc.content_template>doc.content_template (section)</a>
<a class=func-link href=#doc.nav_template>doc.nav_template (section)</a>
<a class=func-link href=#doc.parse_func_def>doc.parse_func_def (line)</a>
<a class=func-link href=#doc.startswith>doc.startswith (str, beginning)</a><h3> HTML-generators</h3><a class=func-link href=#doc.source_template>doc.source_template (file)</a>
<a class=func-link href=#doc.def_template>doc.def_template (dt, dd)</a>
<a class=func-link href=#doc.file_template>doc.file_template (content, navigation)</a>
<a class=func-link href=#doc.link>doc.link (string, links, file, line)</a>
<a class=func-link href=#doc.wrap>doc.wrap (text, element, attr)</a>
<a class=func-link href=#doc.wraps>doc.wraps (list, element)</a><h3> Useful helper functions</h3><a class=func-link href=#doc.map>doc.map (list, f, ...)</a>
  </div><footer style=margin-right>
    generated with docl
  </footer></body></html>